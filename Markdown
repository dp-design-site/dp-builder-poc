# ðŸ“‚ DP Builder POC â€” ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð½Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° + Ñ€Ð¾Ð»Ð¸

ðŸ“‚ dp-builder-poc-main
â”‚
â”œâ”€â”€ ðŸ“‚ components
â”‚   â”œâ”€â”€ context-menu.html        # HTML ÑˆÐ°Ð±Ð»Ð¾Ð½ Ð·Ð° ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð½Ð¾ Ð¼ÐµÐ½ÑŽ (Ð´ÐµÑÐµÐ½ ÐºÐ»Ð¸Ðº)
â”‚   â””â”€â”€ ribbon.html              # Ð“Ð¾Ñ€Ð½Ð° Ð»ÐµÐ½Ñ‚Ð° (Inventor-style ribbon)
â”‚
â”œâ”€â”€ ðŸ“‚ css
â”‚   â”œâ”€â”€ library.css              # ÑÑ‚Ð¸Ð»Ð¾Ð²Ðµ Ð·Ð° Ð»ÑÐ² Ð¿Ð°Ð½ÐµÐ» (Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° Ñ widget-Ð¸)
â”‚   â”œâ”€â”€ main.css                 # Ð³Ð»Ð¾Ð±Ð°Ð»Ð½Ð¸ ÑÑ‚Ð¸Ð»Ð¾Ð²Ðµ Ð·Ð° layout Ð¸ canvas
â”‚   â””â”€â”€ properties.css           # ÑÑ‚Ð¸Ð»Ð¾Ð²Ðµ Ð·Ð° Ð´ÐµÑÐµÐ½ Ð¿Ð°Ð½ÐµÐ» (Properties)
â”‚
â”œâ”€â”€ ðŸ“‚ js
â”‚   â”œâ”€â”€ ðŸ“‚ actions
â”‚   â”‚   â””â”€â”€ context-actions.js   # Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð½Ð¾Ñ‚Ð¾ Ð¼ÐµÐ½ÑŽ (delete, duplicateâ€¦)
â”‚   â”œâ”€â”€ ðŸ“‚ core
â”‚   â”‚   â”œâ”€â”€ canvas.js            # ðŸ–¼ï¸ Canvas â€” Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð½Ð°Ñ‚Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð½Ð° Ð·Ð¾Ð½Ð° Ð·Ð° widget-Ð¸
â”‚   â”‚   â”œâ”€â”€ component-loader.js  # Ð—Ð°Ñ€ÐµÐ¶Ð´Ð°Ð½Ðµ Ð½Ð° HTML/CSS/JS Ð½Ð° widget-Ð¸
â”‚   â”‚   â”œâ”€â”€ constraints-engine.js# Ð”Ð²Ð¸Ð¶ÐµÑ‰Ð° Ð»Ð¾Ð³Ð¸ÐºÐ° Ð½Ð° constraint Ð²Ñ€ÑŠÐ·ÐºÐ¸Ñ‚Ðµ
â”‚   â”‚   â”œâ”€â”€ constraints.js       # UI Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ð° constraint-Ð¸
â”‚   â”‚   â”œâ”€â”€ inspector.js         # Ð˜Ð½ÑÐ¿ÐµÐºÑ‚Ð¾Ñ€ (Ð±ÑŠÑ€Ð·Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸, ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð½Ð¾ Ð¼ÐµÐ½ÑŽ)
â”‚   â”‚   â”œâ”€â”€ selection.js         # Ð›Ð¾Ð³Ð¸ÐºÐ° Ð·Ð° ÑÐµÐ»ÐµÐºÑ†Ð¸Ñ Ð½Ð° widget-Ð¸ (click/drag select)
â”‚   â”‚   â”œâ”€â”€ snap.js              # Snap Ð¿Ñ€Ð¸ Ð¿Ñ€ÐµÐ¼ÐµÑÑ‚Ð²Ð°Ð½Ðµ Ð¸ Ð¾Ñ€Ð°Ð·Ð¼ÐµÑ€ÑÐ²Ð°Ð½Ðµ
â”‚   â”‚   â””â”€â”€ widgets.js           # Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð½Ð¸ Ð´ÐµÑ„Ð¸Ð½Ð¸Ñ†Ð¸Ð¸ Ð·Ð° widget-Ð¸
â”‚   â”œâ”€â”€ ðŸ“‚ ui
â”‚   â”‚   â”œâ”€â”€ library.js           # ðŸ“š Library â€” Ð»ÑÐ² Ð¿Ð°Ð½ÐµÐ» Ñ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ð¸Ñ‚Ðµ widget-Ð¸ (drag&drop)
â”‚   â”‚   â”œâ”€â”€ properties.js        # âš™ï¸ Properties â€” Ð´ÐµÑÐµÐ½ Ð¿Ð°Ð½ÐµÐ» Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð½Ð° Ð¸Ð·Ð±Ñ€Ð°Ð½Ð¸Ñ widget
â”‚   â”‚   â”œâ”€â”€ props-typography.js    
â”‚   â”‚   â”œâ”€â”€ text-editor.js                                 
â”‚   â”‚   â””â”€â”€ widget-registry.js   # Ð ÐµÐ³Ð¸ÑÑ‚ÑŠÑ€ Ð½Ð° widget-Ð¸ (Ñ‚Ð¸Ð¿ â†’ schema/render/init)
â”‚   â””â”€â”€ app.js                   # Ð“Ð»Ð°Ð²Ð½Ð° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ, glue Ð¼ÐµÐ¶Ð´Ñƒ Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ð¼Ð¾Ð´ÑƒÐ»Ð¸
â”‚
â”œâ”€â”€ ðŸ“‚ widgets
â”‚   â””â”€â”€ ðŸ“‚ window-basic           # ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ widget â€žWindowâ€œ
â”‚       â”œâ”€â”€ window-basic.css
â”‚       â”œâ”€â”€ window-basic.html
â”‚       â””â”€â”€ window-basic.js
â”‚
â”œâ”€â”€ favicon.png
â”œâ”€â”€ index.html                   # Ð¡Ñ‚Ð°Ñ€Ñ‚Ð¾Ð²Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ layout (canvas + Ð¿Ð°Ð½ÐµÐ»Ð¸)
â”œâ”€â”€ README.md
â””â”€â”€ styles.css                   # ÐžÐ±Ñ‰Ð¸ ÑÑ‚Ð¸Ð»Ð¾Ð²Ðµ Ð·Ð° Ñ†ÑÐ»Ð¾Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ


+-------------------+                +---------------------+
|   UI / Library    |  (drag/add)    |   WidgetRegistry    |
|  (ui/library.js)  +--------------->+ (ui/widget-registry)|
+---------+---------+    dp:create   +----------+----------+
          |                                     |
          | enhance(widget,type)                | define/init(type)
          |                                     v
          |                           +---------------------+
          |                           |  Widget Bundle      |
          |                           | (HTML/CSS/JS:       |
          |                           |  widgets/window-... |
          |                           +---------------------+
          v
+---------+---------+   select/move/resize   +---------------------+
|     Canvas        |----------------------->|     Properties      |
| (core/canvas.js)  |     dp:widget-geometry |   (ui/properties)   |
|  + selection/snap |<-----------------------|  read/write styles  |
+-------------------+       input changes    +---------------------+

         ^                                          ^
         | context menu                             |
         | (components/context-menu.html)           | MutationObserver
         +-------------------+----------------------+
                             |
                      +------+------+
                      |  Inspector  |
                      | core/inspector|
                      +-------------+

