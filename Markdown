# 📂 DP Builder POC — структура на проекта + роли

📂 dp-builder-poc-main
│
├── 📂 components
│   ├── context-menu.html        # HTML шаблон за контекстно меню (десен клик)
│   └── ribbon.html              # Горна лента (Inventor-style ribbon)
│
├── 📂 css
│   ├── library.css              # стилове за ляв панел (библиотека с widget-и)
│   ├── main.css                 # глобални стилове за layout и canvas
│   └── properties.css           # стилове за десен панел (Properties)
│
├── 📂 js
│   ├── 📂 actions
│   │   └── context-actions.js   # действия от контекстното меню (delete, duplicate…)
│   ├── 📂 core
│   │   ├── canvas.js            # 🖼️ Canvas — централната работна зона за widget-и
│   │   ├── component-loader.js  # Зареждане на HTML/CSS/JS на widget-и
│   │   ├── constraints-engine.js# Движеща логика на constraint връзките
│   │   ├── constraints.js       # UI точки за constraint-и
│   │   ├── inspector.js         # Инспектор (бързи настройки, контекстно меню)
│   │   ├── selection.js         # Логика за селекция на widget-и (click/drag select)
│   │   ├── snap.js              # Snap при преместване и оразмеряване
│   │   └── widgets.js           # Централни дефиниции за widget-и
│   ├── 📂 ui
│   │   ├── library.js           # 📚 Library — ляв панел с наличните widget-и (drag&drop)
│   │   ├── properties.js        # ⚙️ Properties — десен панел с настройки на избрания widget
│   │   ├── props-typography.js    
│   │   ├── text-editor.js                                 
│   │   └── widget-registry.js   # Регистър на widget-и (тип → schema/render/init)
│   └── app.js                   # Главна инициализация, glue между всички модули
│
├── 📂 widgets
│   └── 📂 window-basic           # Примерен widget „Window“
│       ├── window-basic.css
│       ├── window-basic.html
│       └── window-basic.js
│
├── favicon.png
├── index.html                   # Стартова страница с layout (canvas + панели)
├── README.md
└── styles.css                   # Общи стилове за цялото приложение


+-------------------+                +---------------------+
|   UI / Library    |  (drag/add)    |   WidgetRegistry    |
|  (ui/library.js)  +--------------->+ (ui/widget-registry)|
+---------+---------+    dp:create   +----------+----------+
          |                                     |
          | enhance(widget,type)                | define/init(type)
          |                                     v
          |                           +---------------------+
          |                           |  Widget Bundle      |
          |                           | (HTML/CSS/JS:       |
          |                           |  widgets/window-... |
          |                           +---------------------+
          v
+---------+---------+   select/move/resize   +---------------------+
|     Canvas        |----------------------->|     Properties      |
| (core/canvas.js)  |     dp:widget-geometry |   (ui/properties)   |
|  + selection/snap |<-----------------------|  read/write styles  |
+-------------------+       input changes    +---------------------+

         ^                                          ^
         | context menu                             |
         | (components/context-menu.html)           | MutationObserver
         +-------------------+----------------------+
                             |
                      +------+------+
                      |  Inspector  |
                      | core/inspector|
                      +-------------+

