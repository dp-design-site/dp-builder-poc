<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple Interact.js Drag Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { background: #161a22; margin: 0; height: 100vh; }
    #canvas {
      width: 100vw;
      height: 100vh;
      position: relative;
      overflow: hidden;
      background: repeating-linear-gradient(
        to right, #232736 0, #232736 24px, #262b40 25px
      ),
      repeating-linear-gradient(
        to bottom, #232736 0, #232736 24px, #262b40 25px
      );
    }
    .widget {
      position: absolute;
      left: 120px;
      top: 100px;
      width: 260px;
      height: 160px;
      border-radius: 12px;
      border: 2px solid #2a2f44;
      background: #121722;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: move;
      user-select: none;
      box-shadow: 0 4px 18px #0002;
    }
  </style>
</head>
<body>
  <div id="canvas">
    <div class="widget" id="myPanel">Панел (драгни ме)</div>
  </div>

  <!-- Interact.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
  <script>
    // Минимална интеракция само за drag!
    interact('.widget').draggable({
      listeners: {
        move (event) {
          const target = event.target;
          // Вземи текущите x/y
          let x = parseInt(target.getAttribute('data-x')) || 0;
          let y = parseInt(target.getAttribute('data-y')) || 0;

          // Добави разликата
          x += event.dx;
          y += event.dy;

          // Ъпдейтни позицията
          target.style.transform = `translate(${x}px, ${y}px)`;
          target.setAttribute('data-x', x);
          target.setAttribute('data-y', y);

          // Debug log
          console.log('DRAG MOVE SIMPLE', x, y);
        }
      }
    });
  </script>
</body>
</html>
